(window.webpackJsonp=window.webpackJsonp||[]).push([[6,2,5],{345:function(t,e,n){var content=n(348);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(73).default)("199e1068",content,!0,{sourceMap:!1})},346:function(t,e,n){"use strict";n.r(e);var o={name:"Header",created:function(){},data:function(){return{theme:!1}},mounted:function(){this.changeTheme(localStorage.getItem("theme")||"lightMode",!0)},props:{},methods:{changeTheme:function(t,e){this.theme=t,document.body.removeAttribute("class"),document.body.classList.add(t),e||localStorage.setItem("theme",t)}},components:{}},r=(n(347),n(71)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"container"},[e("nav",[e("nuxt-link",{attrs:{to:"/"}},[e("div",{staticClass:"navigation__title"},[t._v("Where in the world?")])]),t._v(" "),e("div",{staticClass:"navigation__theme"},["darkMode"===t.theme?e("div",{on:{click:function(e){return t.changeTheme("lightMode")}}},[e("fa",{attrs:{icon:["fas","sun"]}}),t._v(" "),e("span",[t._v("Light mode")])],1):e("div",{on:{click:function(e){return t.changeTheme("darkMode")}}},[e("fa",{attrs:{icon:["fas","moon"]}}),t._v(" "),e("span",[t._v("Dark mode")])],1)])],1)])])}),[],!1,null,"15521db9",null);e.default=component.exports},347:function(t,e,n){"use strict";n(345)},348:function(t,e,n){var o=n(72)(!1);o.push([t.i,".header[data-v-15521db9]{background-color:#fff}nav[data-v-15521db9]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0}.navigation__title[data-v-15521db9]{font-weight:800}.navigation__theme[data-v-15521db9]{font-size:90%;cursor:pointer}a[data-v-15521db9]{text-decoration:none;color:#000}",""]),t.exports=o},349:function(t,e,n){var o=n(16),r=n(26),l=n(243),c=n(171),d=n(12),v=o.RegExp,m=v.prototype;r&&d((function(){var t=!0;try{v(".","d")}catch(e){t=!1}var e={},n="",o=t?"dgimsy":"gimsy",r=function(t,o){Object.defineProperty(e,t,{get:function(){return n+=o,!0}})},l={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var c in t&&(l.hasIndices="d"),l)r(c,l[c]);return Object.getOwnPropertyDescriptor(m,"flags").get.call(e)!==o||n!==o}))&&l(m,"flags",{configurable:!0,get:c})},351:function(t,e,n){"use strict";n.r(e);n(349),n(22);var o=n(25),r=(n(64),n(1),n(38),{name:"Detail",asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,c,d,v,m,f,h,_,y,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,l=t.route,c=null,d=null,e.next=5,r.get("v3.1/name/"+(null==l||null===(n=l.params)||void 0===n?void 0:n.name)+"?fullText=true");case 5:if(!((null==(v=e.sent)||null===(o=v.data)||void 0===o?void 0:o.length)>0)){e.next=14;break}if(c=null==v?void 0:v.data[0],h=null,!((null===(m=c)||void 0===m||null===(f=m.borders)||void 0===f?void 0:f.length)>0)){e.next=14;break}return e.next=12,r.get("v2/alpha?codes="+(null===(_=c)||void 0===_||null===(y=_.borders)||void 0===y?void 0:y.toString()));case 12:h=e.sent,d=null===(C=h)||void 0===C?void 0:C.data;case 14:return e.abrupt("return",{detail:c,borders:d});case 15:case"end":return e.stop()}}),e)})))()},data:function(){return{loading:!1,countryName:"",detail:null,borders:[]}},created:function(){var t,e;this.countryName=null===(t=this.$route)||void 0===t||null===(e=t.params)||void 0===e?void 0:e.name},methods:{},components:{Header:n(346).default}}),l=r,c=n(71),component=Object(c.a)(l,(function(){var t,e,n,o,r,l,c,d,v,m,f,h,_=this,y=_._self._c;return y("div",[y("Header"),_._v(" "),y("div",{staticClass:"container my-5",attrs:{id:"detail-page"}},[y("b-row",{staticClass:"back-btn-box"},[y("b-col",[y("NuxtLink",{staticClass:"btn",attrs:{to:"/"}},[y("fa",{attrs:{icon:["fa","arrow-left-long"]}}),_._v("\n          Back\n        ")],1)],1)],1),_._v(" "),_.loading?y("div",{staticClass:"text-center"},[_._m(0)]):y("b-row",[y("b-col",{staticClass:"mb-4",attrs:{cols:"12",xl:"6"}},[y("div",{staticClass:"country-flag-detail"},[y("div",{staticClass:"img-container"},[y("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],attrs:{"data-src":null===(t=_.detail)||void 0===t||null===(e=t.flags)||void 0===e?void 0:e.png}})])])]),_._v(" "),y("b-col",{staticClass:"mb-5",attrs:{cols:"12",xl:"6"}},[y("b-row",[y("b-col",{staticClass:"my-3 main-title",attrs:{cols:"12"}},[_._v("\n            "+_._s(_.countryName)+"\n          ")]),_._v(" "),y("b-col",{staticClass:"mb-5",attrs:{cols:"12",xl:"6"}},[y("div",{staticClass:"mb-1"},[y("span",{staticClass:"info-title"},[_._v(" Native Name: ")]),_._v(" "),y("span",{staticClass:"info-value"},[_._v(" "+_._s(null===(n=_.detail)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.common)+" ")])]),_._v(" "),y("div",{staticClass:"mb-1"},[y("span",{staticClass:"info-title"},[_._v(" Population: ")]),_._v(" "),y("span",{staticClass:"info-value"},[_._v(" "+_._s(null===(r=_.detail)||void 0===r?void 0:r.population)+" ")])]),_._v(" "),y("div",{staticClass:"mb-1"},[y("span",{staticClass:"info-title"},[_._v(" Region: ")]),_._v(" "),y("span",{staticClass:"info-value"},[_._v(" "+_._s(null===(l=_.detail)||void 0===l?void 0:l.region)+" ")])]),_._v(" "),y("div",{staticClass:"mb-1"},[y("span",{staticClass:"info-title"},[_._v(" Sub Region: ")]),_._v(" "),y("span",{staticClass:"info-value"},[_._v(" "+_._s(null===(c=_.detail)||void 0===c?void 0:c.subregion)+" ")])]),_._v(" "),y("div",{staticClass:"mb-1"},[y("span",{staticClass:"info-title"},[_._v(" Capital: ")]),_._v(" "),_._l(null===(d=_.detail)||void 0===d?void 0:d.capital,(function(t,e){return y("span",{staticClass:"info-value"},[_._v(" "+_._s((e>0?", ":"")+t)+" ")])}))],2)]),_._v(" "),y("b-col",{staticClass:"mb-5",attrs:{cols:"12",xl:"6"}},[y("div",{staticClass:"mb-1"},[y("span",{staticClass:"info-title"},[_._v(" Top Level Domain: ")]),_._v(" "),_._l(null===(v=_.detail)||void 0===v?void 0:v.tld,(function(t,e){return y("span",{staticClass:"info-value"},[_._v(" "+_._s((e>0?", ":"")+t)+"\n              ")])}))],2),_._v(" "),y("div",{staticClass:"mb-1"},[y("span",{staticClass:"info-title"},[_._v(" Currencies: ")]),_._v(" "),_._l(null===(m=_.detail)||void 0===m?void 0:m.currencies,(function(t,e){return y("span",{staticClass:"info-value"},[_._v(" "+_._s((e>0?", ":"")+(null==t?void 0:t.name))+" ")])}))],2),_._v(" "),y("div",{staticClass:"mb-1"},[y("span",{staticClass:"info-title"},[_._v(" Language: ")]),_._v(" "),_._l(null===(f=_.detail)||void 0===f?void 0:f.languages,(function(t,e){return y("span",{staticClass:"info-value"},[_._v(" "+_._s((e>0?", ":"")+t)+" ")])}))],2)]),_._v(" "),(null===(h=_.borders)||void 0===h?void 0:h.length)>0?y("b-col",{staticClass:"border-countries-box",attrs:{cols:"12"}},[y("span",{staticClass:"info-title"},[_._v(" Border Countries: ")]),_._v(" "),_._l(_.borders,(function(t,e){var n;return y("NuxtLink",{staticClass:"btn my-1 mr-1",attrs:{to:"/detail/"+(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())}},[_._v("\n              "+_._s(t.name)+"\n            ")])}))],2):_._e()],1)],1)],1)],1)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"spinner-grow m-auto d-block",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[this._v("Loading...")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Header:n(346).default})},354:function(t,e,n){"use strict";n.r(e);n(22),n(89),n(349),n(5),n(4),n(2),n(1),n(6),n(3),n(7);var o=n(0),r=n(25),l=(n(64),n(10),n(19),n(39),n(346)),c=n(351);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"IndexPage",asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$axios,o=t.route,r=t.$lodash,l=null,!o.query.region){e.next=14;break}return e.prev=3,e.next=6,n.get("v3.1/region/"+o.query.region).then((function(t){return t.data}),(function(t){console.log(t)}));case 6:l=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:e.next=35;break;case 14:if(!o.query.name){e.next=26;break}return e.prev=15,e.next=18,n.get("v3.1/name/"+o.query.name).then((function(t){return t.data}),(function(t){console.log(t)}));case 18:l=e.sent,e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),console.log(e.t1);case 24:e.next=35;break;case 26:return e.prev=26,e.next=29,n.get("v3.1/all").then((function(t){return t.data}),(function(t){console.log(t)}));case 29:l=e.sent,e.next=35;break;case 32:e.prev=32,e.t2=e.catch(26),console.log(e.t2);case 35:return o.query&&(l=r.orderBy(l,[o.query.sort],[o.query.type])),e.abrupt("return",{list:l});case 37:case"end":return e.stop()}}),e,null,[[3,9],[15,21],[26,32]])})))()},data:function(){return{timeOut:null,loading:!1,regionList:["africa","americas","asia","europe","oceania"],list:[],sort:{type:"asc",name:"countryName"},searchParams:{region:null,countryName:null}}},created:function(){this.checkParams()},methods:{checkParams:function(){var t;this.loading=!0;var e=null===(t=this.$route)||void 0===t?void 0:t.query;e.sort&&e.type&&(this.sort.name=e.sort,this.sort.type=e.type),e.name?this.searchParams.countryName=e.name:e.region&&(this.searchParams.region=e.region),this.loading=!1},updatePathParams:function(t,e){var n=v(v({},t.currentRoute.query),e);t.push({query:n})},removeQueryParams:function(t){var e=Object.assign({},this.$route.query);delete e[t],this.$router.replace({query:e})},sortList:function(t){t&&(this.sort.type="asc"===this.sort.type?"desc":"asc",this.sort.name=t,this.updatePathParams(this.$router,{sort:this.sort.name,type:this.sort.type})),this.list=this.$lodash.orderBy(this.list,[this.sort.name],[this.sort.type])},getList:function(){var t=this;this.$axios.get("v3.1/all").then((function(e){t.list=e.data,t.loading=!1}),(function(e){console.log(e),t.loading=!1}))},getCountriesByRegion:function(){var t=this;this.loading=!0,this.updatePathParams(this.$router,{region:this.searchParams.region}),this.searchParams.countryName&&(this.searchParams.countryName=null,this.removeQueryParams("name")),this.list=[],this.$axios.get("v3.1/region/"+this.searchParams.region).then((function(e){t.list=e.data,t.sort.name&&t.sortList(),t.loading=!1}),(function(e){console.log(e),t.loading=!1}))},getCountriesByName:function(){var t=this;clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){t.getCountriesByNameFunc()}),300)},getCountriesByNameFunc:function(){var t=this;this.loading=!0,this.updatePathParams(this.$router,{name:this.searchParams.countryName}),this.searchParams.region&&(this.searchParams.region=null,this.removeQueryParams("region")),this.list=[],""!==this.searchParams.countryName?this.$axios.get("v3.1/name/"+this.searchParams.countryName).then((function(e){t.list=e.data,t.sort.name&&t.sortList(),t.loading=!1}),(function(e){console.log(e),t.loading=!1})):this.getList()}},components:{Header:l.default,Detail:c.default}},f=n(71),component=Object(f.a)(m,(function(){var t,e=this,n=e._self._c;return n("div",[n("Header"),e._v(" "),n("div",{staticClass:"container my-5",attrs:{id:"home-page"}},[n("b-row",{staticClass:"mb-4"},[n("b-col",{staticClass:"mb-3",attrs:{cols:"12",xl:"4"}},[n("div",{staticClass:"search-input"},[n("fa",{attrs:{icon:["fas","search"]}}),e._v(" "),n("b-form-input",{attrs:{placeholder:"Search for a country"},on:{input:function(t){return e.getCountriesByName()}},model:{value:e.searchParams.countryName,callback:function(t){e.$set(e.searchParams,"countryName",t)},expression:"searchParams.countryName"}})],1)]),e._v(" "),n("b-col",{staticClass:"mb-3",attrs:{cols:"12",xl:"4"}},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"sort-item",on:{click:function(t){return e.sortList("population")}}},["population"===e.sort.name?n("span",["asc"===e.sort.type?n("fa",{attrs:{icon:["fas","fa-arrow-down-1-9"]}}):n("fa",{attrs:{icon:["fas","fa-arrow-down-9-1"]}})],1):e._e(),e._v("\n            Population\n          ")]),e._v(" "),n("div",{staticClass:"sort-item",on:{click:function(t){return e.sortList("name.common")}}},["name.common"===e.sort.name?n("span",["asc"===e.sort.type?n("fa",{attrs:{icon:["fas","fa-arrow-down-a-z"]}}):n("fa",{attrs:{icon:["fas","fa-arrow-down-z-a"]}})],1):e._e(),e._v("\n            \n            Country name\n          ")])])]),e._v(" "),n("b-col",{staticClass:"mb-3 region-box",attrs:{cols:"8",xl:"2"}},[n("b-form-select",{attrs:{options:e.regionList},on:{change:function(t){return e.getCountriesByRegion()}},model:{value:e.searchParams.region,callback:function(t){e.$set(e.searchParams,"region",t)},expression:"searchParams.region"}})],1)],1),e._v(" "),n("div",[e.loading?n("div",{staticClass:"text-center"},[e._m(0)]):n("div",[null!==(t=e.list)&&void 0!==t&&t.length?n("b-row",e._l(e.list,(function(t,o){var r,l,c,d;return n("b-col",{staticClass:"mb-5",attrs:{cols:"12",xl:"3"}},[n("NuxtLink",{attrs:{to:"/detail/"+(null===(r=t.name)||void 0===r||null===(l=r.common)||void 0===l?void 0:l.toLowerCase())}},[n("b-card",[n("div",{staticClass:"img-container"},[n("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],attrs:{"data-src":null===(c=t.flags)||void 0===c?void 0:c.png}})]),e._v(" "),n("div",{staticClass:"p-4"},[n("span",{staticClass:"d-block mb-3 text-1"},[e._v(e._s(null===(d=t.name)||void 0===d?void 0:d.common))]),e._v(" "),n("div",{staticClass:"mb-1"},[n("span",{staticClass:"info-title"},[e._v("Population:")]),e._v(" "),n("span",{staticClass:"info-value"},[e._v(" "+e._s(t.population)+" ")])]),e._v(" "),n("div",{staticClass:"mb-1"},[n("span",{staticClass:"info-title"},[e._v("Region:")]),e._v(" "),n("span",{staticClass:"info-value"},[e._v(" "+e._s(t.region)+" ")])]),e._v(" "),n("div",{staticClass:"mb-1"},[n("span",{staticClass:"info-title"},[e._v(" Capital: ")]),e._v(" "),e._l(t.capital,(function(t,o){return n("span",{staticClass:"info-value"},[e._v(" "+e._s((o>0?", ":"")+t)+" ")])}))],2)])])],1)],1)})),1):n("div",{staticClass:"text-center"},[n("fa",{attrs:{icon:["fas","ban"]}}),e._v("\n          No match data !\n        ")],1)],1)])],1)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"spinner-grow m-auto d-block",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[this._v("Loading...")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Header:n(346).default})}}]);